Smart Energy Scheduling for Green Telecom
Code Repository and Execution Guide

Overview
This project consists of two main components:
1. Main model code that generates the energy management strategy.
2. Error metric scoring tool that evaluates the generated strategy using reference data.
This repository contains the complete working solution for the Smart Energy Scheduling for Green Telecom project.

The objective of this project is to predict solar energy output, simulate microgrid operation, and generate a complete strategy using solar, battery, grid, and diesel sources. The strategy is evaluated using a scoring tool based on penalties for diesel usage, grid usage, SOC violations, and energy cost.

--------------------------------------------------------------------------------

Project Folder Structure:

src/main/
Contains
- main_model.py (main code to run)
- main_model.html
- main_model.ipynb
- energy consumption file (energy consumption per site)
- site information file (battery, grid, diesel information)
- solar power and weather condition file (DHI, DNI, GHI, humidity, clearsky metrics)

This script performs data loading, preprocessing, correlation analysis, machine learning (XGBoost), and implements the strategy generation logic at 15-minute intervals. It produces the output file strategy_submission.csv.

src/error_metrics/
Contains the scoring tool files:
- errorMetric.py (main scoring system)
- energy_management.py (dependency for power flow calculations)
- config.py (all scoring parameters and constants)
- errorMetric.html
- errorMetric.ipynb
- reference_data.csv
- strategy_submission.csv (the output generated by main_model.py)

data/raw/
Contains the input files required by main_model.py:
- energy consumption file (energy consumption per site)
- site information file (battery, grid, diesel information)
- solar power and weather condition file (DHI, DNI, GHI, humidity, clearsky metrics)

data/reference/
Contains the files required for errorMetric.py:
- reference_data.csv
- strategy_submission.csv (the output generated by main_model.py)

output/
Contains the generated strategy produced by main_model.py:
- strategy_submission.csv

README.md
Contains instructions for setup, running the scripts, and explanation of the project.

--------------------------------------------------------------------------------

Requirements:
Python version 3.6 or above.

Required Python libraries:
pandas
numpy
seaborn
matplotlib
scikit-learn
xgboost
openpyxl

These can be installed manually, or automatically using the requirements.txt file.

--------------------------------------------------------------------------------

Installation Steps:
1. Ensure Python 3.6+ is installed.
2. Install required packages using:
   pip install -r requirements.txt

3. Place the datasets in the correct folders:
   - Raw input files → data/raw/
   - Reference input files → data/reference/

4. Confirm that your folder structure matches what is shown above.

--------------------------------------------------------------------------------

How to Run the Main Model:

File: src/main/code_with_implementation.py

Purpose:
This script trains the XGBoost model, predicts solar output, simulates solar-battery-grid-diesel interactions, and generates a complete energy strategy in 15-minute intervals for all sites.

Steps:
1.Main Model Input Files:
The current main_model.py script is designed to run on Google Colab and reads input files using absolute paths (for example: /content/drive/My Drive/...).

Therefore, the following files must be placed in the same folder as main_model.py, or the paths inside the script must be updated to match your local directory:

src/main/
- energy consumption file
- site information and grid outage file
- solar power and weather condition file

These files are required for main_model.py to execute correctly. If you are running locally, please update the paths in the script or place the CSV/Excel files next to the script.

2. Run the script using:
   python src/main/code_with_implementation.py

3. After execution, the output file will be saved as:
   strategy_submission.csv in the same directory

This output file must be used as input to the error metric tool.

--------------------------------------------------------------------------------

How to Run the Error Metric Tool:

Files used:
- src/error_metrics/errorMetric.py
- src/error_metrics/energy_management.py
- src/error_metrics/config.py

Purpose:
This tool evaluates the generated strategy using official scoring criteria. It calculates:
- Diesel generator start count
- Diesel total runtime
- Maximum continuous diesel usage time
- Grid usage duration
- SOC violations where SOC < DOD
- Total energy cost for 15-minute intervals

Steps:
1. src/error_metrics/
   This folder also contains the required input files:
	- reference_data.csv
	- strategy_submission.csv

These files must be placed in the same folder as errorMetric.py because the script reads them directly without folder paths.

2. Run the script using:
   python src/error_metrics/errorMetric.py

The tool will print:
- Final aggregated score
- Per-site scores
- Valid timesteps per site
- All SOC violation timestamps per site

--------------------------------------------------------------------------------

Inputs Required by the Main Model:

energy consumption file:
Contains hourly load demand per site.

site information file:
Contains battery capacity, diesel generator capacity, grid power availability, initial SOC, and DOD levels.

solar power and weather file:
Contains DHI, DNI, GHI, clearsky radiation, humidity, and other solar and atmospheric variables.

--------------------------------------------------------------------------------

Inputs Required by the Error Metric Tool:

reference_data.csv:
Contains ground truth load values, solar values, and complete site configuration.

strategy_submission.csv:
Contains the 15-minute prediction strategy generated by the main model.

--------------------------------------------------------------------------------

Note on Data Files and Folder Duplication:
The input CSV files for both the main model and the error metric tool are placed in two locations:

1. Inside the src/main/ and src/error_metrics/ folders  
   (These copies are required because the scripts read files directly from their own folder and do not use relative paths.)

2. Inside the data/ folder  
   (These are provided only for easy access, clarity, and dataset reference. They are not used directly by the code.)

This results in duplicate copies of the datasets, but it is done intentionally to ensure that:
- The code runs without modifying internal file paths.
- The evaluator can easily inspect all datasets in the data/ folder.
- The project remains clean, organized, and easy to understand.

If needed, the user may update the paths in the scripts to remove duplications.

--------------------------------------------------------------------------------

Final Outputs:

1. strategy_submission.csv
Generated by the main model. It contains 15-minute decisions for grid, diesel, solar, and battery usage, along with SOC.

2. Final evaluation score
Displayed in the terminal after running errorMetric.py.

The score is computed using penalties for diesel usage, grid usage, SOC violations, and energy cost. Lower scores indicate better efficiency.

--------------------------------------------------------------------------------

Notes:
- The files energy_management.py and config.py are needed only for running errorMetric.py and are not used by the main model.
- The main model operates only on raw datasets and produces strategy_submission.csv. The scoring tool uses strategy_submission.csv and reference_data.csv.
- Maintain correct folder placement, otherwise the scoring tool may fail due to incorrect paths.

--------------------------------------------------------------------------------

Additional Code Formats Provided:
Along with the Python (.py) files, this repository also includes the HTML and Jupyter Notebook (.ipynb) versions of the main model and the error metric tool. These files are stored in the same folders as their corresponding Python scripts.

src/main/:
- main_model.html
- main_model.ipynb

src/error_metrics/:
- errorMetric.html
- errorMetric.ipynb
- energy_management.py
- config.py
